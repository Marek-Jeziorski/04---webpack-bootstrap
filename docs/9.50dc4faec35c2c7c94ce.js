(self.webpackChunkwebpack_x=self.webpackChunkwebpack_x||[]).push([[9],{9:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(279),i=n.n(r);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key,"string"),"symbol"===o(i)?i:String(i)),r)}var i}const u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.injectHtml(),this.element=document.getElementById("measureME"),this.measure=document.querySelector(".measure"),this.closeIcon=document.querySelector(".measure__close"),this.browserWidthOuter=window.outerWidth,this.browserWidth=window.innerWidth,this.browserHeightOuter=window.outerHeight,this.browserHeight=window.innerHeight,document.getElementById("outerWidth").innerHTML=this.browserWidthOuter,document.getElementById("innerWidth").innerHTML=this.browserWidth,document.getElementById("outerHeight").innerHTML=this.browserHeightOuter,document.getElementById("innerHeight").innerHTML=this.browserHeight,document.getElementById("documentHeight").innerHTML=this.getHeight().toFixed(),document.getElementById("el-offsetTop").innerHTML=this.element.offsetTop,document.getElementById("el-offsetHeight").innerHTML=this.element.offsetHeight,document.getElementById("scrollY").innerHTML=0,this.events()}var t,n;return t=e,(n=[{key:"events",value:function(){var e=this;this.closeIcon.addEventListener("click",(function(){return e.closeTheMeasure()})),document.addEventListener("keyup",(function(t){return e.keyPressHandler(t)})),window.addEventListener("scroll",(function(){var t=e.element.getBoundingClientRect(),n=t.y/e.browserHeight*100;document.getElementById("scrollPercent").innerHTML=n.toFixed(),document.getElementById("scrollY").innerHTML=scrollY.toFixed(),document.getElementById("sh").innerHTML=(scrollY+e.browserHeight).toFixed(),document.getElementById("demo").innerHTML="Left: "+t.left.toFixed()+"<br>Top: "+t.y.toFixed()+"<br>Width: "+t.width.toFixed()+"<br>Height: "+t.height.toFixed()})),window.addEventListener("resize",i()((function(){e.browserWidthOuter=window.outerWidth,e.browserWidth=window.innerWidth,e.browserHeightOuter=window.outerHeight,e.browserHeight=window.innerHeight,document.getElementById("outerWidth").innerHTML=e.browserWidthOuter,document.getElementById("innerWidth").innerHTML=e.browserWidth,document.getElementById("outerHeight").innerHTML=e.browserHeightOuter,document.getElementById("innerHeight").innerHTML=e.browserHeight}),333))}},{key:"openTheMeasure",value:function(){this.measure.classList.add("measure--is-visible")}},{key:"closeTheMeasure",value:function(){this.measure.classList.remove("measure--is-visible")}},{key:"keyPressHandler",value:function(e){27==e.keyCode&&this.closeTheMeasure()}},{key:"getHeight",value:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,e.getBoundingClientRect().height,t.clientHeight,t.scrollHeight,t.offsetHeight)}},{key:"injectHtml",value:function(){document.body.insertAdjacentHTML("beforeend",'\n    <div class="measure">\n      <div class="measure__close">X</div>\n      <hr>\n      <p>win.outerWidth <span id="outerWidth"></span></p>\n      <p>win.innerWidth <span id="innerWidth"></span></p>\n      <p>win.outerHeight <span id="outerHeight"></span></p>\n      <p>win.innerHeight <span id="innerHeight"></span></p>\n      <p>doc.height <span id="documentHeight"></span></p>\n      <p>doc.scrollY <span id="scrollY"></span></p>\n      <p>doc.scrollY + <br> win.innerHeight <span id="sh"></span></p>\n      <p>el.offsetTop <span id="el-offsetTop"></span></p>\n      <p>el.offsetHeight <span id="el-offsetHeight"></span></p>\n      <hr />\n      <p>el.BoundingClientRect</p>\n      <p>el.scrollPercent %<span id="scrollPercent"> </span></p>\n      <p id="demo"></p>\n    </div>\n    ')}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},705:(e,t,n)=>{var r=n(639).Symbol;e.exports=r},239:(e,t,n)=>{var r=n(705),i=n(607),o=n(333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},561:(e,t,n)=>{var r=n(990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},607:(e,t,n)=>{var r=n(705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}},333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},639:(e,t,n)=>{var r=n(957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},279:(e,t,n)=>{var r=n(218),i=n(771),o=n(841),s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,d,a,f,h,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,p=t,a=e.apply(r,n)}function b(e){return p=e,f=setTimeout(H,t),m?y(e):a}function w(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-p>=d}function H(){var e=i();if(w(e))return T(e);f=setTimeout(H,function(e){var n=t-(e-h);return g?u(n,d-(e-p)):n}(e))}function T(e){return f=void 0,v&&c?y(e):(c=l=void 0,a)}function x(){var e=i(),n=w(e);if(c=arguments,l=this,h=e,n){if(void 0===f)return b(h);if(g)return clearTimeout(f),f=setTimeout(H,t),y(h)}return void 0===f&&(f=setTimeout(H,t)),a}return t=o(t)||0,r(n)&&(m=!!n.leading,d=(g="maxWait"in n)?s(o(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=l=f=void 0},x.flush=function(){return void 0===f?a:T(i())},x}},218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},448:(e,t,n)=>{var r=n(239),i=n(5);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},771:(e,t,n)=>{var r=n(639);e.exports=function(){return r.Date.now()}},841:(e,t,n)=>{var r=n(561),i=n(218),o=n(448),s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS41MGRjNGZhZWMzNWMyYzdjOTRjZS5qcyIsIm1hcHBpbmdzIjoieXpCQW1JQSxRQWpJYSxXQUNYLGMsNEZBQWMsU0FDWkEsS0FBS0MsYUFHTEQsS0FBS0UsUUFBVUMsU0FBU0MsZUFBZSxhQUV2Q0osS0FBS0ssUUFBVUYsU0FBU0csY0FBYyxZQUN0Q04sS0FBS08sVUFBWUosU0FBU0csY0FBYyxtQkFDeENOLEtBQUtRLGtCQUFvQkMsT0FBT0MsV0FDaENWLEtBQUtXLGFBQWVGLE9BQU9HLFdBQzNCWixLQUFLYSxtQkFBcUJKLE9BQU9LLFlBQ2pDZCxLQUFLZSxjQUFnQk4sT0FBT08sWUFFNUJiLFNBQVNDLGVBQWUsY0FBY2EsVUFBWWpCLEtBQUtRLGtCQUN2REwsU0FBU0MsZUFBZSxjQUFjYSxVQUFZakIsS0FBS1csYUFDdkRSLFNBQVNDLGVBQWUsZUFBZWEsVUFBWWpCLEtBQUthLG1CQUN4RFYsU0FBU0MsZUFBZSxlQUFlYSxVQUFZakIsS0FBS2UsY0FDeERaLFNBQVNDLGVBQWUsa0JBQWtCYSxVQUN4Q2pCLEtBQUtrQixZQUFZQyxVQUNuQmhCLFNBQVNDLGVBQWUsZ0JBQWdCYSxVQUFZakIsS0FBS0UsUUFBUWtCLFVBQ2pFakIsU0FBU0MsZUFBZSxtQkFBbUJhLFVBQ3pDakIsS0FBS0UsUUFBUW1CLGFBRWZsQixTQUFTQyxlQUFlLFdBQVdhLFVBQVksRUFFL0NqQixLQUFLc0IsUUFDUCxDLFFBbUdDLE8sRUFuR0EsRyxFQUFBLHFCQUVELFdBQVMsV0FDUHRCLEtBQUtPLFVBQVVnQixpQkFBaUIsU0FBUyxrQkFBTSxFQUFLQyxpQkFBaUIsSUFDckVyQixTQUFTb0IsaUJBQWlCLFNBQVMsU0FBQ0UsR0FBQyxPQUFLLEVBQUtDLGdCQUFnQkQsRUFBRSxJQUVqRWhCLE9BQU9jLGlCQUFpQixVQUFVLFdBQ2hDLElBQUlJLEVBQU8sRUFBS3pCLFFBQVEwQix3QkFDcEJDLEVBQWlCRixFQUFLRyxFQUFJLEVBQUtmLGNBQWlCLElBQ3BEWixTQUFTQyxlQUFlLGlCQUFpQmEsVUFDdkNZLEVBQWNWLFVBQ2hCaEIsU0FBU0MsZUFBZSxXQUFXYSxVQUFZYyxRQUFRWixVQUN2RGhCLFNBQVNDLGVBQWUsTUFBTWEsV0FDNUJjLFFBQVUsRUFBS2hCLGVBQ2ZJLFVBRUZoQixTQUFTQyxlQUFlLFFBQVFhLFVBQzlCLFNBQ0FVLEVBQUtLLEtBQUtiLFVBRFYsWUFJQVEsRUFBS0csRUFBRVgsVUFKUCxjQU9BUSxFQUFLTSxNQUFNZCxVQVBYLGVBVUFRLEVBQUtPLE9BQU9mLFNBQ2hCLElBRUFWLE9BQU9jLGlCQUNMLFNBQ0FZLEtBQVMsV0FDUCxFQUFLM0Isa0JBQW9CQyxPQUFPQyxXQUNoQyxFQUFLQyxhQUFlRixPQUFPRyxXQUMzQixFQUFLQyxtQkFBcUJKLE9BQU9LLFlBQ2pDLEVBQUtDLGNBQWdCTixPQUFPTyxZQUU1QmIsU0FBU0MsZUFBZSxjQUFjYSxVQUNwQyxFQUFLVCxrQkFDUEwsU0FBU0MsZUFBZSxjQUFjYSxVQUFZLEVBQUtOLGFBQ3ZEUixTQUFTQyxlQUFlLGVBQWVhLFVBQ3JDLEVBQUtKLG1CQUNQVixTQUFTQyxlQUFlLGVBQWVhLFVBQVksRUFBS0YsYUFDMUQsR0FBRyxLQUVQLEdBQUMsNEJBRUQsV0FDRWYsS0FBS0ssUUFBUStCLFVBQVVDLElBQUksc0JBQzdCLEdBQUMsNkJBRUQsV0FDRXJDLEtBQUtLLFFBQVErQixVQUFVRSxPQUFPLHNCQUNoQyxHQUFDLDZCQUVELFNBQWdCYixHQUNHLElBQWJBLEVBQUVjLFNBQ0p2QyxLQUFLd0IsaUJBRVQsR0FBQyx1QkFFRCxXQUNFLElBQU1nQixFQUFPckMsU0FBU3FDLEtBQ2hCQyxFQUFPdEMsU0FBU3VDLGdCQVN0QixPQVJZQyxLQUFLQyxJQUNmSixFQUFLSyxhQUNMTCxFQUFLbkIsYUFDTG1CLEVBQUtaLHdCQUF3Qk0sT0FDN0JPLEVBQUtLLGFBQ0xMLEVBQUtJLGFBQ0xKLEVBQUtwQixhQUdULEdBQUMsd0JBRUQsV0FDRWxCLFNBQVNxQyxLQUFLTyxtQkFDWixZQUFXLHV4QkFxQmYsTSxvRUFBQyxFQTlIVSxFLGdCQ0ZiLElBR0lDLEVBSE8sRUFBUSxLQUdEQSxPQUVsQkMsRUFBT0MsUUFBVUYsQyxnQkNMakIsSUFBSUEsRUFBUyxFQUFRLEtBQ2pCRyxFQUFZLEVBQVEsS0FDcEJDLEVBQWlCLEVBQVEsS0FPekJDLEVBQWlCTCxFQUFTQSxFQUFPTSxpQkFBY0MsRUFrQm5ETixFQUFPQyxRQVRQLFNBQW9CTSxHQUNsQixPQUFhLE1BQVRBLE9BQ2VELElBQVZDLEVBZFEscUJBREwsZ0JBaUJKSCxHQUFrQkEsS0FBa0JJLE9BQU9ELEdBQy9DTCxFQUFVSyxHQUNWSixFQUFlSSxFQUNyQixDLGdCQ3pCQSxJQUFJRSxFQUFrQixFQUFRLEtBRzFCQyxFQUFjLE9BZWxCVixFQUFPQyxRQU5QLFNBQWtCVSxHQUNoQixPQUFPQSxFQUNIQSxFQUFPQyxNQUFNLEVBQUdILEVBQWdCRSxHQUFVLEdBQUdFLFFBQVFILEVBQWEsSUFDbEVDLENBQ04sQyxnQkNmQSxJQUFJRyxFQUE4QixpQkFBVixFQUFBQyxHQUFzQixFQUFBQSxHQUFVLEVBQUFBLEVBQU9QLFNBQVdBLFFBQVUsRUFBQU8sRUFFcEZmLEVBQU9DLFFBQVVhLEMsZ0JDSGpCLElBQUlmLEVBQVMsRUFBUSxLQUdqQmlCLEVBQWNSLE9BQU9TLFVBR3JCQyxFQUFpQkYsRUFBWUUsZUFPN0JDLEVBQXVCSCxFQUFZSSxTQUduQ2hCLEVBQWlCTCxFQUFTQSxFQUFPTSxpQkFBY0MsRUE2Qm5ETixFQUFPQyxRQXBCUCxTQUFtQk0sR0FDakIsSUFBSWMsRUFBUUgsRUFBZUksS0FBS2YsRUFBT0gsR0FDbkNtQixFQUFNaEIsRUFBTUgsR0FFaEIsSUFDRUcsRUFBTUgsUUFBa0JFLEVBQ3hCLElBQUlrQixHQUFXLENBQ0osQ0FBWCxNQUFPaEQsR0FBSSxDQUViLElBQUlpRCxFQUFTTixFQUFxQkcsS0FBS2YsR0FRdkMsT0FQSWlCLElBQ0VILEVBQ0ZkLEVBQU1ILEdBQWtCbUIsU0FFakJoQixFQUFNSCxJQUdWcUIsQ0FDVCxDLFVDMUNBLElBT0lOLEVBUGNYLE9BQU9TLFVBT2NHLFNBYXZDcEIsRUFBT0MsUUFKUCxTQUF3Qk0sR0FDdEIsT0FBT1ksRUFBcUJHLEtBQUtmLEVBQ25DLEMsZ0JDbkJBLElBQUlPLEVBQWEsRUFBUSxLQUdyQlksRUFBMEIsaUJBQVJDLE1BQW9CQSxNQUFRQSxLQUFLbkIsU0FBV0EsUUFBVW1CLEtBR3hFQyxFQUFPZCxHQUFjWSxHQUFZRyxTQUFTLGNBQVRBLEdBRXJDN0IsRUFBT0MsUUFBVTJCLEMsVUNQakIsSUFBSUUsRUFBZSxLQWlCbkI5QixFQUFPQyxRQVBQLFNBQXlCVSxHQUd2QixJQUZBLElBQUlvQixFQUFRcEIsRUFBT3FCLE9BRVpELEtBQVdELEVBQWFHLEtBQUt0QixFQUFPdUIsT0FBT0gsTUFDbEQsT0FBT0EsQ0FDVCxDLGdCQ2hCQSxJQUFJSSxFQUFXLEVBQVEsS0FDbkJDLEVBQU0sRUFBUSxLQUNkQyxFQUFXLEVBQVEsS0FNbkJDLEVBQVk1QyxLQUFLQyxJQUNqQjRDLEVBQVk3QyxLQUFLOEMsSUFxTHJCeEMsRUFBT0MsUUE3SFAsU0FBa0J3QyxFQUFNQyxFQUFNQyxHQUM1QixJQUFJQyxFQUNBQyxFQUNBQyxFQUNBckIsRUFDQXNCLEVBQ0FDLEVBQ0FDLEVBQWlCLEVBQ2pCQyxHQUFVLEVBQ1ZDLEdBQVMsRUFDVEMsR0FBVyxFQUVmLEdBQW1CLG1CQUFSWCxFQUNULE1BQU0sSUFBSVksVUF6RVEsdUJBbUZwQixTQUFTQyxFQUFXQyxHQUNsQixJQUFJQyxFQUFPWixFQUNQYSxFQUFVWixFQUtkLE9BSEFELEVBQVdDLE9BQVd2QyxFQUN0QjJDLEVBQWlCTSxFQUNqQjlCLEVBQVNnQixFQUFLaUIsTUFBTUQsRUFBU0QsRUFFL0IsQ0FFQSxTQUFTRyxFQUFZSixHQU1uQixPQUpBTixFQUFpQk0sRUFFakJSLEVBQVVhLFdBQVdDLEVBQWNuQixHQUU1QlEsRUFBVUksRUFBV0MsR0FBUTlCLENBQ3RDLENBWUEsU0FBU3FDLEVBQWFQLEdBQ3BCLElBQUlRLEVBQW9CUixFQUFPUCxFQU0vQixZQUF5QjFDLElBQWpCMEMsR0FBK0JlLEdBQXFCckIsR0FDekRxQixFQUFvQixHQUFPWixHQU5KSSxFQUFPTixHQU04QkgsQ0FDakUsQ0FFQSxTQUFTZSxJQUNQLElBQUlOLEVBQU9uQixJQUNYLEdBQUkwQixFQUFhUCxHQUNmLE9BQU9TLEVBQWFULEdBR3RCUixFQUFVYSxXQUFXQyxFQTNCdkIsU0FBdUJOLEdBQ3JCLElBRUlVLEVBQWN2QixHQUZNYSxFQUFPUCxHQUkvQixPQUFPRyxFQUNIWixFQUFVMEIsRUFBYW5CLEdBSkRTLEVBQU9OLElBSzdCZ0IsQ0FDTixDQW1CcUNDLENBQWNYLEdBQ25ELENBRUEsU0FBU1MsRUFBYVQsR0FLcEIsT0FKQVIsT0FBVXpDLEVBSU44QyxHQUFZUixFQUNQVSxFQUFXQyxJQUVwQlgsRUFBV0MsT0FBV3ZDLEVBQ2ZtQixFQUNULENBY0EsU0FBUzBDLElBQ1AsSUFBSVosRUFBT25CLElBQ1BnQyxFQUFhTixFQUFhUCxHQU05QixHQUpBWCxFQUFXeUIsVUFDWHhCLEVBQVc5RixLQUNYaUcsRUFBZU8sRUFFWGEsRUFBWSxDQUNkLFFBQWdCOUQsSUFBWnlDLEVBQ0YsT0FBT1ksRUFBWVgsR0FFckIsR0FBSUcsRUFJRixPQUZBbUIsYUFBYXZCLEdBQ2JBLEVBQVVhLFdBQVdDLEVBQWNuQixHQUM1QlksRUFBV04sRUFFdEIsQ0FJQSxZQUhnQjFDLElBQVp5QyxJQUNGQSxFQUFVYSxXQUFXQyxFQUFjbkIsSUFFOUJqQixDQUNULENBR0EsT0EzR0FpQixFQUFPTCxFQUFTSyxJQUFTLEVBQ3JCUCxFQUFTUSxLQUNYTyxJQUFZUCxFQUFRTyxRQUVwQkosR0FEQUssRUFBUyxZQUFhUixHQUNITCxFQUFVRCxFQUFTTSxFQUFRRyxVQUFZLEVBQUdKLEdBQVFJLEVBQ3JFTSxFQUFXLGFBQWNULElBQVlBLEVBQVFTLFNBQVdBLEdBb0cxRGUsRUFBVUksT0FwQ1YsZ0JBQ2tCakUsSUFBWnlDLEdBQ0Z1QixhQUFhdkIsR0FFZkUsRUFBaUIsRUFDakJMLEVBQVdJLEVBQWVILEVBQVdFLE9BQVV6QyxDQUNqRCxFQStCQTZELEVBQVVLLE1BN0JWLFdBQ0UsWUFBbUJsRSxJQUFaeUMsRUFBd0J0QixFQUFTdUMsRUFBYTVCLElBQ3ZELEVBNEJPK0IsQ0FDVCxDLFVDOUpBbkUsRUFBT0MsUUFMUCxTQUFrQk0sR0FDaEIsSUFBSWtFLFNBQWNsRSxFQUNsQixPQUFnQixNQUFUQSxJQUEwQixVQUFSa0UsR0FBNEIsWUFBUkEsRUFDL0MsQyxRQ0FBekUsRUFBT0MsUUFKUCxTQUFzQk0sR0FDcEIsT0FBZ0IsTUFBVEEsR0FBaUMsaUJBQVRBLENBQ2pDLEMsZ0JDMUJBLElBQUltRSxFQUFhLEVBQVEsS0FDckJDLEVBQWUsRUFBUSxHQTJCM0IzRSxFQUFPQyxRQUxQLFNBQWtCTSxHQUNoQixNQUF1QixpQkFBVEEsR0FDWG9FLEVBQWFwRSxJQXJCRixtQkFxQlltRSxFQUFXbkUsRUFDdkMsQyxnQkMxQkEsSUFBSXFCLEVBQU8sRUFBUSxLQXNCbkI1QixFQUFPQyxRQUpHLFdBQ1IsT0FBTzJCLEVBQUtnRCxLQUFLeEMsS0FDbkIsQyxnQkNwQkEsSUFBSXlDLEVBQVcsRUFBUSxLQUNuQjFDLEVBQVcsRUFBUSxLQUNuQjJDLEVBQVcsRUFBUSxLQU1uQkMsRUFBYSxxQkFHYkMsRUFBYSxhQUdiQyxFQUFZLGNBR1pDLEVBQWVDLFNBOENuQm5GLEVBQU9DLFFBckJQLFNBQWtCTSxHQUNoQixHQUFvQixpQkFBVEEsRUFDVCxPQUFPQSxFQUVULEdBQUl1RSxFQUFTdkUsR0FDWCxPQTFDTSxJQTRDUixHQUFJNEIsRUFBUzVCLEdBQVEsQ0FDbkIsSUFBSTZFLEVBQWdDLG1CQUFqQjdFLEVBQU04RSxRQUF3QjlFLEVBQU04RSxVQUFZOUUsRUFDbkVBLEVBQVE0QixFQUFTaUQsR0FBVUEsRUFBUSxHQUFNQSxDQUMzQyxDQUNBLEdBQW9CLGlCQUFUN0UsRUFDVCxPQUFpQixJQUFWQSxFQUFjQSxHQUFTQSxFQUVoQ0EsRUFBUXNFLEVBQVN0RSxHQUNqQixJQUFJK0UsRUFBV04sRUFBVy9DLEtBQUsxQixHQUMvQixPQUFRK0UsR0FBWUwsRUFBVWhELEtBQUsxQixHQUMvQjJFLEVBQWEzRSxFQUFNSyxNQUFNLEdBQUkwRSxFQUFXLEVBQUksR0FDM0NQLEVBQVc5QyxLQUFLMUIsR0F2RGIsS0F1RDZCQSxDQUN2QyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vc3JjL2Fzc2V0cy9zY3JpcHRzL01lYXN1cmUuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwid2VicGFjazovL3dlYnBhY2steC8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXRUYWcuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVRyaW0uanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZnJlZUdsb2JhbC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXgvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fb2JqZWN0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXgvLi9ub2RlX21vZHVsZXMvbG9kYXNoL190cmltbWVkRW5kSW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXgvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwid2VicGFjazovL3dlYnBhY2steC8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovL3dlYnBhY2steC8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC9ub3cuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay14Ly4vbm9kZV9tb2R1bGVzL2xvZGFzaC90b051bWJlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVib3VuY2UgZnJvbSBcImxvZGFzaC9kZWJvdW5jZVwiO1xyXG5cclxuY2xhc3MgTWVhc3VyZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmluamVjdEh0bWwoKTtcclxuXHJcbiAgICAvLyBUT0RPOiBpZCA9IFwibWVhc3VyZU1lXCIgdG8gYW55IGVsZW1lbnQgaW4gaW5kZXguaHRtbFxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZWFzdXJlTUVcIik7XHJcblxyXG4gICAgdGhpcy5tZWFzdXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZWFzdXJlXCIpO1xyXG4gICAgdGhpcy5jbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lYXN1cmVfX2Nsb3NlXCIpO1xyXG4gICAgdGhpcy5icm93c2VyV2lkdGhPdXRlciA9IHdpbmRvdy5vdXRlcldpZHRoO1xyXG4gICAgdGhpcy5icm93c2VyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIHRoaXMuYnJvd3NlckhlaWdodE91dGVyID0gd2luZG93Lm91dGVySGVpZ2h0O1xyXG4gICAgdGhpcy5icm93c2VySGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3V0ZXJXaWR0aFwiKS5pbm5lckhUTUwgPSB0aGlzLmJyb3dzZXJXaWR0aE91dGVyO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbm5lcldpZHRoXCIpLmlubmVySFRNTCA9IHRoaXMuYnJvd3NlcldpZHRoO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRlckhlaWdodFwiKS5pbm5lckhUTUwgPSB0aGlzLmJyb3dzZXJIZWlnaHRPdXRlcjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5uZXJIZWlnaHRcIikuaW5uZXJIVE1MID0gdGhpcy5icm93c2VySGVpZ2h0O1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb2N1bWVudEhlaWdodFwiKS5pbm5lckhUTUwgPVxyXG4gICAgICB0aGlzLmdldEhlaWdodCgpLnRvRml4ZWQoKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWwtb2Zmc2V0VG9wXCIpLmlubmVySFRNTCA9IHRoaXMuZWxlbWVudC5vZmZzZXRUb3A7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVsLW9mZnNldEhlaWdodFwiKS5pbm5lckhUTUwgPVxyXG4gICAgICB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2Nyb2xsWVwiKS5pbm5lckhUTUwgPSAwO1xyXG5cclxuICAgIHRoaXMuZXZlbnRzKCk7XHJcbiAgfVxyXG5cclxuICBldmVudHMoKSB7XHJcbiAgICB0aGlzLmNsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZVRoZU1lYXN1cmUoKSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHRoaXMua2V5UHJlc3NIYW5kbGVyKGUpKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICAgIGxldCByZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBsZXQgc2Nyb2xsUGVyY2VudCA9IChyZWN0LnkgLyB0aGlzLmJyb3dzZXJIZWlnaHQpICogMTAwO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcm9sbFBlcmNlbnRcIikuaW5uZXJIVE1MID1cclxuICAgICAgICBzY3JvbGxQZXJjZW50LnRvRml4ZWQoKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY3JvbGxZXCIpLmlubmVySFRNTCA9IHNjcm9sbFkudG9GaXhlZCgpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoXCIpLmlubmVySFRNTCA9IChcclxuICAgICAgICBzY3JvbGxZICsgdGhpcy5icm93c2VySGVpZ2h0XHJcbiAgICAgICkudG9GaXhlZCgpO1xyXG4gICAgICAvLyBUT0RPOiBjaGFuZ2UgaXQgdG8gbGl0ZXJhbCB0ZW1wbGF0ZVxyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbW9cIikuaW5uZXJIVE1MID1cclxuICAgICAgICBcIkxlZnQ6IFwiICtcclxuICAgICAgICByZWN0LmxlZnQudG9GaXhlZCgpICtcclxuICAgICAgICBcIjxicj5cIiArXHJcbiAgICAgICAgXCJUb3A6IFwiICtcclxuICAgICAgICByZWN0LnkudG9GaXhlZCgpICtcclxuICAgICAgICBcIjxicj5cIiArXHJcbiAgICAgICAgXCJXaWR0aDogXCIgK1xyXG4gICAgICAgIHJlY3Qud2lkdGgudG9GaXhlZCgpICtcclxuICAgICAgICBcIjxicj5cIiArXHJcbiAgICAgICAgXCJIZWlnaHQ6IFwiICtcclxuICAgICAgICByZWN0LmhlaWdodC50b0ZpeGVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJyZXNpemVcIixcclxuICAgICAgZGVib3VuY2UoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYnJvd3NlcldpZHRoT3V0ZXIgPSB3aW5kb3cub3V0ZXJXaWR0aDtcclxuICAgICAgICB0aGlzLmJyb3dzZXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIHRoaXMuYnJvd3NlckhlaWdodE91dGVyID0gd2luZG93Lm91dGVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuYnJvd3NlckhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRlcldpZHRoXCIpLmlubmVySFRNTCA9XHJcbiAgICAgICAgICB0aGlzLmJyb3dzZXJXaWR0aE91dGVyO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5uZXJXaWR0aFwiKS5pbm5lckhUTUwgPSB0aGlzLmJyb3dzZXJXaWR0aDtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dGVySGVpZ2h0XCIpLmlubmVySFRNTCA9XHJcbiAgICAgICAgICB0aGlzLmJyb3dzZXJIZWlnaHRPdXRlcjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlubmVySGVpZ2h0XCIpLmlubmVySFRNTCA9IHRoaXMuYnJvd3NlckhlaWdodDtcclxuICAgICAgfSwgMzMzKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9wZW5UaGVNZWFzdXJlKCkge1xyXG4gICAgdGhpcy5tZWFzdXJlLmNsYXNzTGlzdC5hZGQoXCJtZWFzdXJlLS1pcy12aXNpYmxlXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VUaGVNZWFzdXJlKCkge1xyXG4gICAgdGhpcy5tZWFzdXJlLmNsYXNzTGlzdC5yZW1vdmUoXCJtZWFzdXJlLS1pcy12aXNpYmxlXCIpO1xyXG4gIH1cclxuXHJcbiAga2V5UHJlc3NIYW5kbGVyKGUpIHtcclxuICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcclxuICAgICAgdGhpcy5jbG9zZVRoZU1lYXN1cmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEhlaWdodCgpIHtcclxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIGxldCBib2R5SCA9IE1hdGgubWF4KFxyXG4gICAgICBib2R5LnNjcm9sbEhlaWdodCxcclxuICAgICAgYm9keS5vZmZzZXRIZWlnaHQsXHJcbiAgICAgIGJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LFxyXG4gICAgICBodG1sLmNsaWVudEhlaWdodCxcclxuICAgICAgaHRtbC5zY3JvbGxIZWlnaHQsXHJcbiAgICAgIGh0bWwub2Zmc2V0SGVpZ2h0XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGJvZHlIO1xyXG4gIH1cclxuXHJcbiAgaW5qZWN0SHRtbCgpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFxyXG4gICAgICBcImJlZm9yZWVuZFwiLFxyXG4gICAgICBgXHJcbiAgICA8ZGl2IGNsYXNzPVwibWVhc3VyZVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibWVhc3VyZV9fY2xvc2VcIj5YPC9kaXY+XHJcbiAgICAgIDxocj5cclxuICAgICAgPHA+d2luLm91dGVyV2lkdGggPHNwYW4gaWQ9XCJvdXRlcldpZHRoXCI+PC9zcGFuPjwvcD5cclxuICAgICAgPHA+d2luLmlubmVyV2lkdGggPHNwYW4gaWQ9XCJpbm5lcldpZHRoXCI+PC9zcGFuPjwvcD5cclxuICAgICAgPHA+d2luLm91dGVySGVpZ2h0IDxzcGFuIGlkPVwib3V0ZXJIZWlnaHRcIj48L3NwYW4+PC9wPlxyXG4gICAgICA8cD53aW4uaW5uZXJIZWlnaHQgPHNwYW4gaWQ9XCJpbm5lckhlaWdodFwiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDxwPmRvYy5oZWlnaHQgPHNwYW4gaWQ9XCJkb2N1bWVudEhlaWdodFwiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDxwPmRvYy5zY3JvbGxZIDxzcGFuIGlkPVwic2Nyb2xsWVwiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDxwPmRvYy5zY3JvbGxZICsgPGJyPiB3aW4uaW5uZXJIZWlnaHQgPHNwYW4gaWQ9XCJzaFwiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDxwPmVsLm9mZnNldFRvcCA8c3BhbiBpZD1cImVsLW9mZnNldFRvcFwiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDxwPmVsLm9mZnNldEhlaWdodCA8c3BhbiBpZD1cImVsLW9mZnNldEhlaWdodFwiPjwvc3Bhbj48L3A+XHJcbiAgICAgIDxociAvPlxyXG4gICAgICA8cD5lbC5Cb3VuZGluZ0NsaWVudFJlY3Q8L3A+XHJcbiAgICAgIDxwPmVsLnNjcm9sbFBlcmNlbnQgJTxzcGFuIGlkPVwic2Nyb2xsUGVyY2VudFwiPiA8L3NwYW4+PC9wPlxyXG4gICAgICA8cCBpZD1cImRlbW9cIj48L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIGBcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNZWFzdXJlO1xyXG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsInZhciB0cmltbWVkRW5kSW5kZXggPSByZXF1aXJlKCcuL190cmltbWVkRW5kSW5kZXgnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgIDogc3RyaW5nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VUcmltO1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCIvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbnZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICByZXR1cm4gaW5kZXg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdHJpbW1lZEVuZEluZGV4O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIG5vdyA9IHJlcXVpcmUoJy4vbm93JyksXG4gICAgdG9OdW1iZXIgPSByZXF1aXJlKCcuL3RvTnVtYmVyJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmdcbiAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgIDogdGltZVdhaXRpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlYm91bmNlO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3Q7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTeW1ib2w7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2VcbiAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi40LjBcbiAqIEBjYXRlZ29yeSBEYXRlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAqIH0sIF8ubm93KCkpO1xuICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAqL1xudmFyIG5vdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBub3c7XG4iLCJ2YXIgYmFzZVRyaW0gPSByZXF1aXJlKCcuL19iYXNlVHJpbScpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b051bWJlcjtcbiJdLCJuYW1lcyI6WyJ0aGlzIiwiaW5qZWN0SHRtbCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWVhc3VyZSIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUljb24iLCJicm93c2VyV2lkdGhPdXRlciIsIndpbmRvdyIsIm91dGVyV2lkdGgiLCJicm93c2VyV2lkdGgiLCJpbm5lcldpZHRoIiwiYnJvd3NlckhlaWdodE91dGVyIiwib3V0ZXJIZWlnaHQiLCJicm93c2VySGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJpbm5lckhUTUwiLCJnZXRIZWlnaHQiLCJ0b0ZpeGVkIiwib2Zmc2V0VG9wIiwib2Zmc2V0SGVpZ2h0IiwiZXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlVGhlTWVhc3VyZSIsImUiLCJrZXlQcmVzc0hhbmRsZXIiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsUGVyY2VudCIsInkiLCJzY3JvbGxZIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiZGVib3VuY2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJrZXlDb2RlIiwiYm9keSIsImh0bWwiLCJkb2N1bWVudEVsZW1lbnQiLCJNYXRoIiwibWF4Iiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiU3ltYm9sIiwibW9kdWxlIiwiZXhwb3J0cyIsImdldFJhd1RhZyIsIm9iamVjdFRvU3RyaW5nIiwic3ltVG9TdHJpbmdUYWciLCJ0b1N0cmluZ1RhZyIsInVuZGVmaW5lZCIsInZhbHVlIiwiT2JqZWN0IiwidHJpbW1lZEVuZEluZGV4IiwicmVUcmltU3RhcnQiLCJzdHJpbmciLCJzbGljZSIsInJlcGxhY2UiLCJmcmVlR2xvYmFsIiwiZyIsIm9iamVjdFByb3RvIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsInRvU3RyaW5nIiwiaXNPd24iLCJjYWxsIiwidGFnIiwidW5tYXNrZWQiLCJyZXN1bHQiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJyZVdoaXRlc3BhY2UiLCJpbmRleCIsImxlbmd0aCIsInRlc3QiLCJjaGFyQXQiLCJpc09iamVjdCIsIm5vdyIsInRvTnVtYmVyIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibWluIiwiZnVuYyIsIndhaXQiLCJvcHRpb25zIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwidHJhaWxpbmciLCJUeXBlRXJyb3IiLCJpbnZva2VGdW5jIiwidGltZSIsImFyZ3MiLCJ0aGlzQXJnIiwiYXBwbHkiLCJsZWFkaW5nRWRnZSIsInNldFRpbWVvdXQiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJhcmd1bWVudHMiLCJjbGVhclRpbWVvdXQiLCJjYW5jZWwiLCJmbHVzaCIsInR5cGUiLCJiYXNlR2V0VGFnIiwiaXNPYmplY3RMaWtlIiwiRGF0ZSIsImJhc2VUcmltIiwiaXNTeW1ib2wiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNPY3RhbCIsImZyZWVQYXJzZUludCIsInBhcnNlSW50Iiwib3RoZXIiLCJ2YWx1ZU9mIiwiaXNCaW5hcnkiXSwic291cmNlUm9vdCI6IiJ9